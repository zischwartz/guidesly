{%extends "site.html" %}

{%block extrahead%}
		
		<link rel="stylesheet" media="all" href="{{STATIC_URL}}create/guide.css"/>
		
		<link rel="stylesheet" media="all" href="{{STATIC_URL}}upload-plugin/jquery.fileupload-ui.css"/>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.iframe-transport.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.fileupload.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.fileupload-ui.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.tmpl.min.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/application-original.js"></script>
		<link rel="stylesheet" href="{{STATIC_URL}}upload-plugin/thumbnail-scaling.css">
	
		<script>
		
		$(document).ready(function(){	

			$(".uibutton").button();
			$(".radioset").buttonset();
			
			$(".advanced").hide();
			
			
			$("#show_advanced").click(function () {
		      $(".advanced").slideToggle("fast");
		    });
			
		});
		</script>
{%endblock%}


{%block header%}
<div class="headerTitle">Create A New Guide</div>
{%endblock%}

{%block content%}

	<form action="" method="post">
		{% csrf_token %}
		<table id="createGuide">
		<tr>
			<td class="labels"><label for="id_title">Title</label></td><td> {{form.title}}</td>
		</tr>
		
		<tr>
			<td class="labels"> <label for="id_description">Description</label></td><td> {{form.description}}</td>
		</tr>
		
		<tr>
			<td class="labels"><label for="id_is_linear">Ordering</label></td>
			<td class="radioset">
				<input type="radio" id="in_lin" name="is_linear" value="true" checked="checked" /><label for="in_lin">Mostly Ordered</label> 
				<input type="radio" id="in_lin2" name="is_linear" value=""  /><label for="in_lin2">Totally Freeform</label>
			</td>
		<tr>
			<td></td><td class="explain">Ordered: Cards have an order, prev and next buttons, &amp; you can reorder cards.</td>
		</tr>
		
		<tr><td></td><td><a id="show_advanced" class="uibutton">Show Advanced Options â–¼</a><td></tr>
		<tr>
			<td></td><td class="explain">You probably don't need to worry about these yet.</td>
		</tr>
			
			<tr class="advanced">
				<td class="labels"><label for="">Card Slugs</label></td>
				<td class="radioset">
					<input type="radio" id="in_slug" name="text_slugs_for_cards" value="true" checked="checked" /><label for="in_slug">By Title</label> 
					<input type="radio" id="in_slug2" name="text_slugs_for_cards" value=""  /><label for="in_slug2">Numbers</label>
				</td>
			</tr>
			
			<tr class="advanced">
				<td></td><td class="explain">Longer, more expressive URLs, or shorter ones</td>
			</tr>
			
			<tr class="advanced">
				<td class="labels"><label for="">Start With</label></td>
				<td class="radioset">
					<input type="radio" id="in_toc2" name="show_toc" checked="checked"  value=""  /><label for="in_toc2">First Card</label>
					<input type="radio" id="in_toc" name="show_toc" value="true" /><label for="in_toc">A Table of Contents</label> 
				</td>
			</tr>
			
			<tr class="advanced">
				<td class="labels"><label for="">Comments</label></td>
				<td class="radioset">
					<input type="radio" id="in_comment" name="enable_comments" value="true" checked="checked" /><label for="in_comment">Sure</label> 
					<input type="radio" id="in_comment2" name="enable_comments" value=""  /><label for="in_comment2">No way</label>
				</td>
			</tr>
			
			<tr class="advanced">
				<td></td><td class="explain">Can people attach comment cards to your cards?</td>
			</tr>
			
			<tr class="advanced">
				<td class="labels"><label for="">Privacy</label></td>
				<td class="radioset">
					<input type="radio" id="in_private2" name="private" value="" checked="checked"  /><label for="in_private2">Public</label>
					<input type="radio" id="in_private" name="private" value="true"  /><label for="in_private">Private</label> 
				</td>
			</tr>
			<tr class="advanced">
				<td></td><td class="explain">Is this guide for everyone or a select few? <br>Don't worry, nobody will see anything till you click publish, later. </td>
			</tr>
		
		<tr><td></td><td><br><input type="submit" class="uibutton" value="Create guide" /></td>
		</table>
				
			<input type="hidden" name="owner" id="id_owner" value="{{user.id}}">
			<div class="hidden">{{form.card_order}}{{form.floating_list}}</div>

	</form>

	<br><br><br>
	<h2>Have lots of media you'll want to use for this guide?</h2>

	{% load upload_tags %}
	<div id="fileupload">
	    <form method="post" action="/upload/new/" enctype="multipart/form-data">
			<div class="dropzone-container">
		    	<div class="dropzone ui-corner-all">In modern browsers, you can just drag and drop a bunch of files from your desktop, right here.</div>
			</div>
		
	        <div class="fileupload-buttonbar">
	            {% csrf_token %}
	            <label class="fileinput-button">
	                <span>Add files...</span>
	                <input type="file" name="file" multiple>
	            </label>
                <input type="hidden" name="owner" value="{{user.id}}">

	            {# <button type="submit" class="start">Start upload</button> #}
	            {# <button type="reset" class="cancel">Cancel upload</button> #}
	            {# <button type="button" class="delete">Delete files</button> #}
	        </div>
	    </form>
	    <div class="fileupload-content">
	        <table class="files"></table>
	        <div class="fileupload-progressbar"></div>
	    </div>
	</div>

	{% upload_js %}

{%endblock%}

{%block sidebar%}
This would be an ideal place to impart some wisdom about the general creation of guides
{%endblock%}
