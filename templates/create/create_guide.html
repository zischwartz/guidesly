{%extends "create/base.html" %}

{%block extrahead%}
		
	<link rel="stylesheet" media="all" href="{{STATIC_URL}}create/guide.css"/>
		<link rel="stylesheet" media="all" href="{{STATIC_URL}}upload-plugin/jquery.fileupload-ui.css"/>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.iframe-transport.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.fileupload.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.fileupload-ui.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/jquery.tmpl.min.js"></script>
		<script type="text/javascript" src="{{STATIC_URL}}upload-plugin/application-original.js"></script>
		<link rel="stylesheet" href="{{STATIC_URL}}upload-plugin/thumbnail-scaling.css">
		<script>
		
		$(document).ready(function(){	

			$(".uibutton").button();
		});
		</script>
{%endblock%}


{%block header%}
<div class="headerTitle">Create A New Guide</div>
{%endblock%}

{%block content%}

	<form action="" method="post">
		{% csrf_token %}
		<table id="createGuide">
		<tr>
			<td class="labels"><label for="id_title">Title</label></td><td> {{form.title}}</td>
		</tr>
		
		<tr>
			<td><label for="id_description">Description</label></td><td> {{form.description}}</td>
		</tr>
		
		<tr>
			<td><label for="id_is_linear">Ordered</label></td><td>{{form.is_linear}}</td>
		</tr>
		</table>
				
			<input type="hidden" name="owner" id="id_owner" value="{{user.id}}">
			<div class="hidden">{{form.card_order}}{{form.floating_list}}</div>

		<input type="submit" class="uibutton" value="Create guide" />
	</form>

	<br><br><br>
	<h2>Have lots of media you'll want to use for this guide?</h2>

	{% load upload_tags %}
	<div id="fileupload">
	    <form method="post" action="/upload/new/" enctype="multipart/form-data">
			<div class="dropzone-container">
		    	<div class="dropzone ui-corner-all">In modern browsers, you can just drag and drop a bunch of files from your desktop, right here.</div>
			</div>
		
	        <div class="fileupload-buttonbar">
	            {% csrf_token %}
	            <label class="fileinput-button">
	                <span>Add files...</span>
	                <input type="file" name="file" multiple>
	            </label>
                <input type="hidden" name="owner" value="{{user.id}}">

	            {# <button type="submit" class="start">Start upload</button> #}
	            {# <button type="reset" class="cancel">Cancel upload</button> #}
	            {# <button type="button" class="delete">Delete files</button> #}
	        </div>
	    </form>
	    <div class="fileupload-content">
	        <table class="files"></table>
	        <div class="fileupload-progressbar"></div>
	    </div>
	</div>

	{% upload_js %}

{%endblock%}

{%block sidebar%}
This would be an ideal place to impart some wisdom about the general creation of guides
{%endblock%}
